!function(a){function b(b){function c(b){a.extend(this,b)}var d={};a.forEach(b,function(a){d[a.name]=new c(a)}),this.getClassDefinition=function(b){if((a.isObject(b)||a.isFunction(b))&&a.isDefined(b[s])&&(b=b[s]),!this.containsClass(b))throw"Class does not exist";return d[b]},this.getClassDefinitions=function(){return d},this.containsClass=function(b){return a.isObject(b)&&b.hasOwnProperty(s)&&(b=b[s]),d.hasOwnProperty(b)}}function c(a){return a.hasOwnProperty(s)&&n.containsClass(a[s])}function d(b){var d,f,g={},h=null;if(d=c(b)?b[s]:b[u][w],b.hasOwnProperty(t))return b[t];if(f=n.getClassDefinition(b),f.identifiers.length){var i=0;a.forEach(f.identifiers,function(a){null!==b[a]&&(g[a]=b[a],i++)}),i&&(h=b[s]+":"+e(g))}return null===h&&(h=b[s]+":"+r++),h}function e(b){var c=[];return a.forEach(b,function(a,b){c.push(b+"="+String(a))}),c.join(",")}function f(){}function g(a){var b=Function("return function "+a+"(){}")();return b}function h(a){return Array.prototype.slice.call(a,0)}function i(b,c){function d(a,b){var c=new RegExp("[\n]","g"),d="\n"+new Array(parseInt(b)+1).join(" ");return(a||"").replace(c,d)}c=c||"debug";var e=0;a.forEach(b,function(a,b){e=Math.max(e,b.length)}),a.injector(["ng"]).invoke(["$log",function(f){a.forEach(b,function(b,g){a.isString(b)&&(b=d(b,e+2)),g=new Array(e-g.length+1).join(" ")+g,f[c](g+":",b)})}])}function j(b,c){var e,f,g;return c=c||{},a.isArray(b)?(e=[],a.forEach(b,function(a,b){e.push(j(a,c))}),e):a.isFunction(b)&&b[s]||a.isObject(b)?(f={},a.isDefined(b[s])&&(f[s]=b[s],a.isFunction(b)||a.isDefined(b[t])||(g=d(b),b[t]=g,q[g]=b),b.hasOwnProperty(t)&&(f[t]=b[t])),a.isDefined(b[t])&&(g=b[t]),g&&c.hasOwnProperty(f[t])||(g&&(c[g]=!0),a.forEach(b,function(d,e){b.hasOwnProperty(s)&&e==u||a.isDefined(b[u])&&a.isObject(b[u].properties)&&b[u].properties.hasOwnProperty(e)&&b[u].properties[e].readOnly||(f[e]=j(d,c))})),f):a.isFunction(b)?void 0:b}var k="$URI$",l=$MODULE$,m=a.module(l,[]),n=new b($MANIFEST$),o=$DEBUG$,p={},q={},r=0,s="__class__",t="__id__",u="__definition__",v="static",w="class",x="return",y="extends";o&&a.injector(["ng"]).invoke(["$log",function(a){a.info("AngularPHP",l,"manifest:",n.getClassDefinitions())}]),a.forEach(n.getClassDefinitions(),function(b){m.service(b.name,["$injector","$q","$http","$rootScope","$log",function(c,e,l,m,r){function t(b,e){if(!n.containsClass(b))return b;var f,g=d(b);if(b.hasOwnProperty("__old_id__")){var h=b.__old_id__;delete b.__old_id__,q.hasOwnProperty(h)&&(q[g]=q[h])}if(q.hasOwnProperty(g))f=q[g];else{if(!c.has(b[s]))throw"Model "+b[s]+" does not exist";f=new(c.get(b[s]))}return a.extend(f,b),e||(q[g]=f),f}function z(b,c){return c=c||!1,(a.isArray(b)||a.isObject(b))&&(a.forEach(b,function(a,d){b[d]=z(a,c)}),b.hasOwnProperty(s)&&(b=t(b,c))),b}function A(b){var c,d;return a.isArray(b)?(c=[],a.forEach(b,function(a){c.push(A(a))}),c):a.isObject(b)?b instanceof f?z(b,!0):(d={},void a.forEach(b,function(a,b){d[b]=A(a)})):b}function B(b,c,d,e,f){var g={action:"method",payload:{"class":b,name:c,arguments:d,context:e}};return f=f||{},a.extend(f,{headers:{"Content-Type":"text/plain"},withCredentials:!0}),l.post(k,g,f||{}).error(function(a){m.$broadcast("EntityError",a)})}function C(d){var f={},g=function(){var g,k,l=e.defer(),m=h(arguments),n=this;if(m.length<d.parameterCount)throw"Method "+d.name+"() requires "+d.parameterCount+" parameters, but "+m.length+" given.";return g=j(d[v]?c.get(b.name):this),o&&(k=(new Date).getTime()),B(b.name,d.name,j(m),g,f).success(function(c){var e;if(o&&(e=a.copy(c.state||null)),z(c),o){var f=(new Date).getTime()-k;r.debug("Call to",d[v]?v:"dynamic","method",d.name+"()"),i({Class:b.name,Context:g,"Returned value":c[x],Output:c.output||"none","Returned state":e||"none",Duration:f+"ms"})}l.resolve(c[x])}).error(function(a){a&&o&&(r.error("Failed call to",d[v]?v:"dynamic","method",d.name+"()"),i({Context:n,Class:a[w],Code:a.code,Message:a.message||"none",Output:a.output||"none",Trace:a.trace||"none"},"warn")),l.reject(a)}),l.promise};return g.httpConfig=function(b){return a.isObject(b)&&(f=b),g},g}a.isFunction(f.prototype.$clone)||(f.prototype.$clone=function(){return A(this)});var D=g(b.name);return b[y]&&p.hasOwnProperty(b[y])?D.prototype=new(c.get(b[y])):D.prototype=new f,p[b.name]=D,D[s]=b.name,D[u]={},D.prototype[s]=b.name,D.prototype[u]=D[u],a.extend(D[u],b),a.forEach(b.properties,function(a){a[v]?D[a.name]=a.value:D.prototype[a.name]=a.value}),a.forEach(b.methods,function(a){a[v]?D[a.name]=C(a):D.prototype[a.name]=C(a)}),a.forEach(b.constants,function(a,b){D[b]=a.value}),D}]),m.run([b.name,"$log",function(a,c){o&&c.info("["+l+"]","Model defined:",b.name)}])})}(angular);